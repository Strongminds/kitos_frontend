<kendo-grid
  [data]="data"
  [loading]="loading || false"
  [pageSize]="state?.take"
  [skip]="state?.skip"
  [filter]="state?.filter"
  [sort]="state?.sort"
  [pageable]="true"
  [sortable]="true"
  [filterable]="true"
  [reorderable]="true"
  [selectable]="true"
  (filterChange)="onFilterChange($event)"
  (sortChange)="onSortChange($event)"
  (pageChange)="onPageChange($event)"
  (selectionChange)="onSelectionChange($event)"
>
  <kendo-grid-column
    *ngFor="let column of columns"
    [field]="column.field"
    [title]="column.title"
    [filter]="column.filter ?? 'text'"
  >
    <ng-template kendoGridFilterCellTemplate let-filter let-column="column">
      <app-string-filter [column]="column" [filter]="filter" *ngIf="column.filter === 'text'"></app-string-filter>
      <app-boolean-filter [column]="column" [filter]="filter" *ngIf="column.filter === 'boolean'"></app-boolean-filter>
      <app-numeric-filter [column]="column" [filter]="filter" *ngIf="column.filter === 'numeric'"></app-numeric-filter>
      <app-date-filter [column]="column" [filter]="filter" *ngIf="column.filter === 'date'"></app-date-filter>
    </ng-template>

    <ng-template *ngIf="column.style === 'primary'" kendoGridCellTemplate let-dataItem>
      <strong>{{ dataItem[column.field] }}</strong>
    </ng-template>

    <ng-template *ngIf="column.style === 'chip'" kendoGridCellTemplate let-dataItem>
      <div class="chip-container">
        <app-status-chip type="it-system-usage" [value]="dataItem[column.field]"></app-status-chip>
      </div>
    </ng-template>

    <ng-template *ngIf="column.filter === 'date'" kendoGridCellTemplate let-dataItem>
      {{ dataItem[column.field] | appDate }}
    </ng-template>
  </kendo-grid-column>

  <ng-template kendoPagerTemplate>
    <app-grid-paginator
      style="width: 100%"
      [state]="state"
      (pageSizeChange)="onPageSizeChange($event)"
    ></app-grid-paginator>
  </ng-template>

  <ng-template kendoGridLoadingTemplate>
    <div class="loading-container">
      <app-loading></app-loading>
    </div>
  </ng-template>
  <ng-template kendoGridNoRecordsTemplate>
    <img src="assets/img/empty-system.svg" />
    <p i18n>Din s√∏gning gav intet resultat</p>
  </ng-template>
</kendo-grid>
<!-- <div class="table-container">
  <app-loading *ngIf="loading"></app-loading>

  <kendo-grid *ngIf="data" [data]="data" matTable [reorderable]="true" [pageable]="true">
    <kendo-grid-column *ngFor="let column of columns" [field]="column.field" [title]="column.title"></kendo-grid-column> -->
<!-- <ng-container *ngFor="let column of columns; let colIndex = index" matColumnDef="{{ column.field }}">
      <th mat-header-cell *matHeaderCellDef>{{ column.title }}</th>
      <td mat-cell *matCellDef="let element">{{ element[column.field] }}</td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>

    <tr mat-row *matRowDef="let row; columns: displayedColumns" (click)="rowIdSelect.emit(row.id)"></tr> -->
<!-- <ng-template kendoPagerTemplate>
      <app-grid-paginator
        style="width: 100%"
        [state]="state"
        [total]="data.total"
        (stateChange)="onStateChange($event)"
      ></app-grid-paginator>
    </ng-template>
  </kendo-grid>
</div>
 -->
