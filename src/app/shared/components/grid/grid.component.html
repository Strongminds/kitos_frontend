<kendo-grid
  [data]="data"
  [loading]="loading || false"
  [pageSize]="state?.take"
  [skip]="state?.skip"
  [filter]="state?.filter"
  [sort]="state?.sort"
  [pageable]="true"
  [sortable]="true"
  [filterable]="true"
  [reorderable]="true"
  [selectable]="true"
  [pageable]="true"
  (dataStateChange)="onStateChange($event)"
  (selectionChange)="onSelectionChange($event)"
>
  <kendo-grid-column
    *ngFor="let column of columns"
    [field]="column.field"
    [title]="column.title"
    [filter]="column.filter ?? 'text'"
  >
    <ng-template kendoGridFilterCellTemplate let-filter let-column="column">
      <app-string-filter [column]="column" [filter]="filter" *ngIf="column.filter === 'text'"></app-string-filter>
      <app-boolean-filter [column]="column" [filter]="filter" *ngIf="column.filter === 'boolean'"></app-boolean-filter>
      <app-numeric-filter [column]="column" [filter]="filter" *ngIf="column.filter === 'numeric'"></app-numeric-filter>
      <app-date-filter [column]="column" [filter]="filter" *ngIf="column.filter === 'date'"></app-date-filter>
    </ng-template>

    <ng-template *ngIf="column.style === 'primary'" kendoGridCellTemplate let-dataItem>
      <strong>{{ dataItem[column.field] }}</strong>
    </ng-template>

    <ng-template *ngIf="column.style === 'chip'" kendoGridCellTemplate let-dataItem>
      <div class="chip-container">
        <app-status-chip [valid]="dataItem[column.field]"></app-status-chip>
      </div>
    </ng-template>

    <ng-template *ngIf="column.filter === 'date'" kendoGridCellTemplate let-dataItem>
      {{ dataItem[column.field] | appDate }}
    </ng-template>
  </kendo-grid-column>

  <ng-template kendoPagerTemplate>
    <app-pager [state]="state" (pageSizeChange)="pageSizeChange($event)"></app-pager>
  </ng-template>

  <ng-template kendoGridLoadingTemplate>
    <div class="loading-container">
      <app-loading></app-loading>
    </div>
  </ng-template>
  <ng-template kendoGridNoRecordsTemplate>
    <img src="assets/img/empty-system.svg" />
    <p i18n>Din s√∏gning gav intet resultat</p>
  </ng-template>
</kendo-grid>
