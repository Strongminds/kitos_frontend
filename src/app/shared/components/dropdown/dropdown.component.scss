@import "theme";
@import "mixins";

:host {
  flex: 1;
}

@mixin ng-select-adjustment($size) {
  $height: if($size == medium, 48px, 56px);
  $font-size: if($size == medium, 14px, 16px);
  $bottom: if($size == medium, 2px, 8px);
  $container-offset: if($size == medium, 8px, 14px);

  padding-bottom: 0;

  // Customization of dropdown container styling
  .ng-select-container {
    height: $height;
    min-height: $height;
    padding: 1px;
    border: 1px solid $color-neutral-40;
    border-radius: $radius-large;
    cursor: pointer;

    &:hover {
      border-color: $color-primary-80;
    }

    &::after {
      content: initial;
    }

    .ng-value-container {
      padding: 0 $padding-medium;
      border-top: $container-offset solid transparent;

      .ng-value {
        position: absolute;
        bottom: $bottom;
      }

      .ng-input {
        bottom: $bottom;
        padding: 0 $padding-medium;

        input {
          cursor: pointer !important;
          font-size: $font-size;
        }
      }
    }

    .ng-spinner-loader {
      align-self: center;
    }

    .ng-clear-wrapper {
      display: flex;
      height: 100%;
      align-items: center;
      bottom: 0 !important;
    }
  }

  // Adjustments for focused 2px border
  &.ng-select-focused {
    .ng-select-container {
      border: 2px solid $color-primary-80;
      padding: 0;
    }

    .ng-value-container {
      .ng-value {
        bottom: $bottom - 1px;
      }

      .ng-input {
        bottom: $bottom - 1px;
      }
    }
  }

  // Custom scaling and positioning of active placeholder
  &.ng-select-focused,
  &.ng-select-opened,
  .ng-has-value {
    .ng-placeholder {
      color: $color-neutral-dark !important;
      font-weight: bold;
      transform: translateY(-8px) scale(calc(12px / $font-size)) perspective(100px) translateZ(0.001px) !important;
    }
  }

  // Custom dropdown icon
  .ng-arrow-wrapper {
    height: 100%;
    width: $height;
    background-image: url("../../../shared/components/icons/chevron-down.svg");
    background-position: center;
    background-repeat: no-repeat;
    bottom: 0 !important;

    .ng-arrow {
      display: none;
    }
  }

  // Custom disabled state
  &.ng-select-disabled {
    .ng-select-container {
      background-color: $color-neutral-10;

      .ng-placeholder {
        color: $color-neutral-80;
      }
    }
  }

  // Custom dropdown menu styling
  ng-dropdown-panel {
    &.ng-select-top {
      bottom: calc(100% + $padding-small);
    }

    &.ng-select-bottom {
      top: calc(100% + $padding-small);
    }

    &.ng-select-bottom,
    &.ng-select-top {
      border-radius: $radius-large;
      padding: $padding-smaller;

      .ng-option {
        border-radius: 6px;

        &.ng-option-marked,
        &.ng-option-selected {
          background: $color-primary-10;
          color: $color-neutral-dark;
        }
      }
    }
  }
}

:host ::ng-deep ng-select {
  &.medium {
    @include ng-select-adjustment(medium);
  }

  &.large {
    @include ng-select-adjustment(large);
  }
}

// app-paragraph {
//   padding: $padding-small $padding-medium 0;
//   border-top: 1px solid $color-neutral-20;
// }
