@import "theme";
@import "mixins";

:host {
  flex: 1;
}

@mixin ng-select-adjustment($size) {
  $height: if($size == medium, 48px, 56px);
  $font-size: if($size == medium, 14px, 16px);
  $bottom: if($size == medium, 2px, 8px);
  $container-offset: if($size == medium, 8px, 12px);

  padding-bottom: 0;

  .ng-select-container {
    height: $height;
    min-height: $height;
    border: 1px solid $color-neutral-40;
    border-radius: $radius-large;

    &::after {
      content: initial;
    }

    .ng-value-container {
      padding: 0 $padding-medium;
      border-top: $container-offset solid transparent;

      .ng-value {
        position: absolute;
        bottom: $bottom;
      }

      .ng-input {
        bottom: $bottom;
        padding: 0 $padding-medium;

        input {
          font-size: $font-size;
        }
      }
    }

    .ng-spinner-loader {
      align-self: center;
    }

    .ng-clear-wrapper {
      display: flex;
      height: 100%;
      align-items: center;
      bottom: 0 !important;
    }
  }

  &.ng-select-focused,
  &.ng-select-opened,
  .ng-has-value {
    .ng-placeholder {
      color: $color-neutral-dark !important;
      font-weight: bold;
      transform: translateY(-8px) scale(calc(12px / $font-size)) perspective(100px) translateZ(0.001px) !important;
    }
  }

  .ng-arrow-wrapper {
    height: 100%;
    width: $height;
    background-image: url("../../../shared/components/icons/chevron-down.svg");
    background-position: center;
    background-repeat: no-repeat;
    bottom: 0 !important;

    .ng-arrow {
      display: none;
    }
  }

  &.ng-select-disabled {
    .ng-select-container {
      background-color: $color-neutral-10;

      .ng-placeholder {
        color: $color-neutral-80;
      }
    }
  }

  ng-dropdown-panel.ng-select-bottom {
    top: calc(100% + $padding-small);
    border-radius: $radius-large;
    padding: $padding-smaller;

    .ng-option {
      border-radius: 6px;

      &.ng-option-marked,
      &.ng-option-selected {
        background: $color-primary-10;
        color: $color-neutral-dark;
      }
    }
  }
}

:host ::ng-deep ng-select {
  &.medium {
    @include ng-select-adjustment(medium);
  }

  &.large {
    @include ng-select-adjustment(large);
  }
}

// app-paragraph {
//   padding: $padding-small $padding-medium 0;
//   border-top: 1px solid $color-neutral-20;
// }
