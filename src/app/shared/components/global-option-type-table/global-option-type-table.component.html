<ng-container *ngIf="optionTypeItems$ | async as optionTypeItems">
  <app-accordion [title]="title" [isExpandedByDefault]="expandedByDefault">
    <div style="display: flex; justify-content: flex-end;">
          <app-button buttonStyle="primary" (buttonClick)="onCreate()" i18n> Opret type</app-button>
    </div>
    <app-loading *ngIf="isLoading$ | async"></app-loading>
    <app-native-table *ngIf="(isLoading$ | async) === false" tableLayout="fixed">
      <thead>
        <tr>
          <th i18n>Tilg√¶ngelig</th>
          <th i18n>Obligatorisk</th>
          <th i18n>Prioritet</th>
          <th i18n>Navn</th>
          <th i18n>Skriv</th>
          <th i18n>Beskrivelse</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let optionTypeItem of optionTypeItems">
          <td>
            <app-boolean-circle [value]="optionTypeItem.enabled"></app-boolean-circle>
          </td>
          <td>
            <app-boolean-circle [value]="optionTypeItem.obligatory"></app-boolean-circle>
          </td>
          <td>
            <div class="priority-div">
                <app-icon-button (buttonClick)="onIncreasePriority(optionTypeItem)">
                  <app-arrow-up-icon></app-arrow-up-icon>
                </app-icon-button>
                <app-icon-button (buttonClick)="onDecreasePriority(optionTypeItem)">
                  <app-arrow-down-icon></app-arrow-down-icon>
                </app-icon-button>
            </div>
          </td>
          <td>{{ optionTypeItem.name }}</td>
          <td>
            <app-boolean-circle [value]="optionTypeItem.writeAccess ?? false"></app-boolean-circle>
          </td>
          <td>
            <app-content-space-between>
              <app-paragraph i18n> {{ optionTypeItem.description }} </app-paragraph>
              <app-table-row-actions>
                <app-icon-button (buttonClick)="onEdit(optionTypeItem)">
                  <app-pencil-icon></app-pencil-icon>
                </app-icon-button>
                <app-icon-button (buttonClick)="onToggleEnabled(optionTypeItem)">
                  <app-x-icon *ngIf="optionTypeItem.enabled"></app-x-icon>
                  <app-check-icon *ngIf="!optionTypeItem.enabled"></app-check-icon>
                </app-icon-button>
              </app-table-row-actions>
            </app-content-space-between>
          </td>
        </tr>
      </tbody>
    </app-native-table>
  </app-accordion>
</ng-container>
