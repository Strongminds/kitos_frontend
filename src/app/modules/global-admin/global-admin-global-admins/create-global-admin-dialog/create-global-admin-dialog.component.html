<app-dialog title="Tilføj global admin" overflow="none" i18n-title>
  <app-loading *ngIf="globalAdminsLoading$ | async"></app-loading>
  <ng-container *ngIf="(globalAdminsLoading$ | async) !== true">
    <app-connected-dropdown
      text="Vælg bruger"
      i18n-text
      valueField="uuid"
      [includeItemDescription]="true"
      itemDescriptionField="email"
      [formGroup]="formGroup"
      formName="user"
      [isLoading$]="usersLoading$"
      [data$]="users$"
      (filterChange)="searchUsers($event)"
      data-cy="add-global-admin-dropdown"
    >
    </app-connected-dropdown>

    <app-option-type-dropdown optionType="it-system_business-type"> </app-option-type-dropdown>

    <app-dialog-actions>
      <app-button buttonStyle="secondary" (buttonClick)="close()"> Annuller </app-button>
      <app-button
        buttonStyle="primary"
        [disabled]="!formGroup.valid"
        (buttonClick)="addGlobalAdmin()"
        data-cy="add-global-admin-dialog-button"
      >
        Tilføj
      </app-button>
    </app-dialog-actions>
  </ng-container>
</app-dialog>
