<!-- <app-loading></app-loading> -->
<app-card>
  <app-card-header
    title="Ansvarlig organisationsenhed"
    helpTextKey="it-system.usage.organization-responsible"
    i18n-title
  ></app-card-header>
  <div *ngIf="responsibleUnit$ | async as responsibleUnit">
    <app-dropdown
      text="Ansvarlig organisationsenhed"
      i18n-text
      [value]="responsibleUnit"
      [data]="usedByUnits$ | async"
      (valueChange)="onResponsibleUnitSelected($event)"
    >
    </app-dropdown>
  </div>
</app-card>
<app-card>
  <app-card-header
    title="Relevante organisationsenheder"
    helpTextKey="it-system.usage.organization-used-by"
    i18n-title
  ></app-card-header>
  <div *ngIf="anyUsedByUnits$ | async" class="content">
    <app-native-table>
      <thead>
        <th width="50%" i18n>Navn</th>
        <th width="25%" i18n>Is responsible</th>
        <th width="25%" i18n></th>
      </thead>
      <tbody>
        <tr *ngFor="let unit of usedByUnits$ | async">
          <td>
            {{ unit.name }}
          </td>
          <td>
            {{ (responsibleUnit$ | async)?.uuid === unit.uuid }}
          </td>
          <td>(trash can)</td>
        </tr>
      </tbody>
    </app-native-table>
  </div>
  <div *ngIf="(anyUsedByUnits$ | async) === false">
    <app-empty-state-add-new name="relevante organisationsenheder"></app-empty-state-add-new>
  </div>
  <div class="footer">
    <app-button buttonStyle="solid" (buttonClick)="onAddNew()">Tilf√∏j relevante organisationsenheder</app-button>
  </div>
</app-card>
