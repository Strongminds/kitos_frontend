<app-card>
  <app-card-header title="Arkivering" helpTextKey="it-system.usage.archiving.main" i18n-title></app-card-header>
  <form [formGroup]="archiveForm">
    <div>
      <app-dropdown
        text="Arkiveringspligt"
        i18n-text
        [formGroup]="archiveForm"
        formName="archiveDuty"
        [data]="archiveDutyChoice"
        [showDescription]="true"
        (valueChange)="patchArchiving({ archiveDuty: $event })"
      ></app-dropdown>
      <app-textbox-info>
        <app-paragraph paragraphSize="x-small" *ngIf="recommendedArchiveDutyComment$ | async as comment">{{
          comment.comment
        }}</app-paragraph>
        <app-paragraph paragraphSize="x-small" i18n>
          Læs mere hos
          <a
            target="_blank"
            href="https://www.sa.dk/da/offentlig-forvaltning/kommuner-og-regioner/bevaring-kassation-it-systemer/"
            >Rigsarkivet</a
          >
        </app-paragraph>
      </app-textbox-info>
    </div>
    <app-dropdown
      text="ArkivType"
      i18n-text
      valueField="uuid"
      [formGroup]="archiveForm"
      formName="type"
      [data]="archiveTypes$ | async"
      [showDescription]="true"
      (valueChange)="patchArchiving({ typeUuid: $event })"
    ></app-dropdown>
    <app-dropdown
      text="Arkiveringssted"
      i18n-text
      valueField="uuid"
      [formGroup]="archiveForm"
      formName="location"
      [data]="archiveLocationTypes$ | async"
      [showDescription]="true"
      (valueChange)="patchArchiving({ locationUuid: $event })"
    ></app-dropdown>
    <app-connected-dropdown
      text="Vælg relevante organisationsenheder"
      i18n-text
      valueField="uuid"
      [formGroup]="archiveForm"
      formName="supplier"
      [data$]="supplierOrganizations$"
      (filterChange)="supplierFilterChange($event)"
      (valueChange)="patchArchiving({ supplierOrganizationUuid: $event })"
    ></app-connected-dropdown>
    <app-dropdown
      text="Arkiveringsteststed"
      i18n-text
      valueField="uuid"
      [formGroup]="archiveForm"
      formName="testLocation"
      [data]="archiveLocationTestTypes$ | async"
      [showDescription]="true"
      (valueChange)="patchArchiving({ testLocationUuid: $event })"
    ></app-dropdown>
    <app-numeric-input
      text="Arkiveringsfrekvens (antal år)"
      i18n-text
      [formGroup]="archiveForm"
      formName="frequencyInMonths"
      (valueChange)="patchArchiving({ frequencyInMonths: $event })"
    ></app-numeric-input>
    <app-checkbox
      text="Dokumentbærende"
      i18n-text
      [formGroup]="archiveForm"
      formName="documentBearing"
      (valueChange)="patchArchiving({ documentBearing: $event })"
    >
    </app-checkbox>
    <app-radio-buttons
      text="Er der arkiveret fra systemet?"
      i18n-text
      [formGroup]="archiveForm"
      formName="active"
      [options]="activeOptions"
      (optionChanged)="patchActiveValue($event)"
    ></app-radio-buttons>
    <app-textarea
      class="notes"
      text="Arkiveringsbemærkniger"
      i18n-text
      [formGroup]="archiveForm"
      formName="notes"
      (valueChange)="patchArchiving({ notes: $event })"
    ></app-textarea>
  </form>
</app-card>
<app-card>
  <app-card-header title="Journalperioder" helpTextKey="it-system.usage.archiving.periods" i18n-title></app-card-header>
  TODO
</app-card>
