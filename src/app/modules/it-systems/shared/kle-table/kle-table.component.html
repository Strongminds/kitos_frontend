<app-loading *ngIf="loadingKle$ | async"></app-loading>
<app-native-table *ngIf="selectedKleDetails$ | async as selectedKle">
  <thead>
    <th width="10%" i18n>KLE ID</th>
    <th i18n>KLE Navn</th>
  </thead>
  <tbody>
    <tr *ngFor="let kle of selectedKle">
      <td>
        <app-paragraph [strikeThrough]="kle.isIrrelevant" paragraphSize="small">{{ kle.kleNumber }}</app-paragraph>
      </td>
      <td>
        <app-content-space-between>
          <app-paragraph [strikeThrough]="kle.isIrrelevant" [cropOnOverlow]="true" paragraphSize="small">{{
            kle.description
          }}</app-paragraph>
          <div class="kle-actions" *ngIf="kle.availableCommands && kle.availableCommands.length > 0">
            <ng-container *ngFor="let command of kle.availableCommands">
              <app-button
                *ngIf="command === 'delete-assignment' || command === 'toggle-assignment-relevance-off'"
                buttonStyle="tertiary"
                (buttonClick)="commandExecutionRequested({ command: command, kleUuid: kle.uuid })"
              >
                <app-trashcan-icon></app-trashcan-icon>
              </app-button>
              <app-button
                *ngIf="command === 'toggle-assignment-relevance-on'"
                buttonStyle="primary"
                (buttonClick)="commandExecutionRequested({ command: command, kleUuid: kle.uuid })"
              >
                <app-plus-icon></app-plus-icon>
              </app-button>
            </ng-container>
          </div>
        </app-content-space-between>
      </td>
    </tr>
  </tbody>
</app-native-table>
